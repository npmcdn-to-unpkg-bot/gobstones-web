{"version":3,"sources":["scripts/stylist.js"],"names":[],"mappings":";;;;;;IAAM,O;AACJ,qBAAc;AAAA;;AACZ,SAAK,kBAAL,GAA0B,GAA1B;AACA,SAAK,aAAL,GAAqB,CAArB;AACA,SAAK,cAAL,GAAsB,EAAtB;AACD;;;;wCAEmB,a,EAAe,a,EAAe;AAAA;;AAChD,QAAE,QAAF,EAAY,KAAZ,CAAkB,YAAM;AACtB,UAAE,aAAF,EAAiB,SAAjB,CAA2B;AACzB,wBAAc;AADW,SAA3B;;AAIA,mBAAW,YAAM;AACf,YAAK,aAAL,uBAAsC,IAAtC;AACA,YAAK,aAAL,wBAAuC,IAAvC;;AAEA,gBAAK,mBAAL,CAAyB,MAAK,kBAA9B,EAAkD,aAAlD;AACD,SALD,EAKG,CALH;AAMD,OAXD;;AAaA,WAAK,YAAL,CAAkB,aAAlB,EAAiC,aAAjC;AACD;;;iCAEY,a,EAAe,a,EAAe;AAAA;;AACzC,QAAE,MAAF,EAAU,MAAV,CAAiB,YAAM;AACrB,YAAI,aAAa,OAAK,6BAAL,CAAmC,aAAnC,CAAjB;AACA,eAAK,mBAAL,CAAyB,UAAzB,EAAqC,aAArC;AACD,OAHD;AAID;;;kDAE6B,a,EAAe;AAC3C,UAAM,gBAAgB,EAAE,QAAF,EAAY,KAAZ,EAAtB;AACA,UAAI,CAAC,KAAK,QAAV,EAAoB;AAClB,aAAK,QAAL,GAAgB,aAAhB;AACA,eAAO,KAAK,kBAAZ;AACD;;AAED,UAAM,YAAY,EAAE,aAAF,CAAlB;AACA,UAAM,aAAa,UAAU,KAAV,KAAoB,KAAK,QAA5C;;AAEA,gBAAU,KAAV,CAAgB,aAAa,aAA7B;AACA,WAAK,QAAL,GAAgB,aAAhB;AACA,aAAO,UAAP;AACD;;;wCAEmB,U,EAAY,a,EAAe;AAC7C,UAAM,YAAY,EAAE,aAAa,KAAK,kBAApB,IAA0C,CAA5D;AACA,UAAM,QAAQ,KAAK,aAAL,GAAqB,SAAnC;AACA,QAAE,aAAF,EAAiB,GAAjB,CAAqB,WAArB,aAA2C,KAA3C;AACA,WAAK,qBAAL,CAA2B,KAA3B,EAAkC,aAAlC;AACD;;;0CAEqB,K,EAAO,a,EAAe;AAC1C,UAAM,iBAAiB,EAAE,aAAF,EAAiB,MAAjB,KAA4B,KAAnD;AACA,UAAM,UAAU,CAAC,EAAE,QAAF,EAAY,MAAZ,KAAuB,KAAK,cAA7B,IAA+C,CAA/D;AACA,UAAM,UAAU,iBAAiB,CAAjC;AACA,QAAE,aAAF,EAAiB,GAAjB,CAAqB,YAArB,EAAsC,UAAU,OAAhD;AACD","file":"scripts/stylist.js","sourcesContent":["class Stylist {\n  constructor() {\n    this.DEFAULT_PERCENTAGE = 0.6;\n    this.INITIAL_SCALE = 1;\n    this.TOOLBAR_HEIGHT = 64;\n  }\n\n  setPanelAsResizable(panelCssClass, boardCssClass) {\n    $(document).ready(() => {\n      $(panelCssClass).resizable({\n        resizeHeight: false\n      });\n\n      setTimeout(() => {\n        $(`${panelCssClass} .ui-resizable-s`).hide();\n        $(`${panelCssClass} .ui-resizable-se`).hide();\n\n        this.scaleAndCenterBoard(this.DEFAULT_PERCENTAGE, boardCssClass);\n      }, 0);\n    });\n\n    this.beResponsive(panelCssClass, boardCssClass);\n  }\n\n  beResponsive(panelCssClass, boardCssClass) {\n    $(window).resize(() => {\n      var percentage = this.keepAspectRatioOnWindowResize(panelCssClass);\n      this.scaleAndCenterBoard(percentage, boardCssClass);\n    });\n  }\n\n  keepAspectRatioOnWindowResize(panelCssClass) {\n    const documentWidth = $(document).width()\n    if (!this.lastSize) {\n      this.lastSize = documentWidth;\n      return this.DEFAULT_PERCENTAGE;\n    }\n\n    const leftPanel = $(panelCssClass);\n    const percentage = leftPanel.width() / this.lastSize;\n\n    leftPanel.width(percentage * documentWidth);\n    this.lastSize = documentWidth;\n    return percentage;\n  }\n\n  scaleAndCenterBoard(percentage, boardCssClass) {\n    const scaleDiff = -(percentage / this.DEFAULT_PERCENTAGE) + 1\n    const scale = this.INITIAL_SCALE + scaleDiff;\n    $(boardCssClass).css(\"transform\", `scale(${scale})`);\n    this.centerBoardVertically(scale, boardCssClass);\n  }\n\n  centerBoardVertically(scale, boardCssClass) {\n    const originalHeight = $(boardCssClass).height() / scale;\n    const middleY = ($(document).height() - this.TOOLBAR_HEIGHT) / 2;\n    const offsetY = originalHeight / 2;\n    $(boardCssClass).css(\"margin-top\", `${middleY - offsetY}px`);\n  }\n}\n"],"sourceRoot":"/source/"}