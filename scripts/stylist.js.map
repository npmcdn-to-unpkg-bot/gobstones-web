{"version":3,"sources":["scripts/stylist.js"],"names":[],"mappings":";;;;;;IAAM,O;AACJ,qBAAc;AAAA;;AACZ,SAAK,kBAAL,GAA0B,GAA1B;AACA,SAAK,aAAL,GAAqB,CAArB;AACA,SAAK,cAAL,GAAsB,EAAtB;AACD;;;;wCAEmB,a,EAAe,a,EAAe;AAAA;;AAChD,QAAE,QAAF,EAAY,KAAZ,CAAkB,YAAM;AACtB,UAAE,aAAF,EAAiB,SAAjB,CAA2B;AACzB,wBAAc;AADW,SAA3B;;AAIA,mBAAW,YAAM;AACf,YAAK,aAAL,uBAAsC,IAAtC;AACA,YAAK,aAAL,wBAAuC,IAAvC;;AAEA,gBAAK,wBAAL,CAA8B,MAAK,kBAAnC,EAAuD,aAAvD;AACD,SALD,EAKG,CALH;AAMD,OAXD;;AAaA,WAAK,YAAL,CAAkB,aAAlB,EAAiC,aAAjC;AACD;;;iCAEY,a,EAAe,a,EAAe;AAAA;;AACzC,QAAE,MAAF,EAAU,MAAV,CAAiB,YAAM;AACrB;AACA,YAAM,gBAAgB,EAAE,QAAF,EAAY,KAAZ,EAAtB;AACA,YAAI,CAAC,OAAK,QAAV,EAAoB;AAClB,iBAAK,QAAL,GAAgB,aAAhB;AACA;AACD;;AAED,YAAM,YAAY,EAAE,aAAF,CAAlB;AACA,YAAM,aAAa,UAAU,KAAV,KAAoB,OAAK,QAA5C;;AAEA,kBAAU,KAAV,CAAgB,aAAa,aAA7B;AACA,eAAK,QAAL,GAAgB,aAAhB;;AAEA;AACA,eAAK,wBAAL,CAA8B,UAA9B,EAA0C,aAA1C;AACD,OAhBD;AAiBD;;;6CAEwB,U,EAAY,a,EAAe;AAClD,UAAI,CAAC,KAAK,cAAV,EAA0B,KAAK,cAAL,GAAsB,EAAE,aAAF,EAAiB,MAAjB,EAAtB;;AAE1B,UAAM,YAAY,EAAE,aAAa,KAAK,kBAApB,IAA0C,CAA5D;AACA,UAAM,QAAQ,KAAK,aAAL,GAAqB,SAAnC;AACA,QAAE,aAAF,EAAiB,GAAjB,CAAqB,WAArB,aAA2C,KAA3C;;AAEA,UAAM,UAAU,CAAC,EAAE,QAAF,EAAY,MAAZ,KAAuB,KAAK,cAA7B,IAA+C,CAA/D;AACA,UAAM,UAAU,KAAK,cAAL,GAAsB,CAAtC;AACA,QAAE,aAAF,EAAiB,GAAjB,CAAqB,YAArB,EAAsC,UAAU,OAAhD;AACD","file":"scripts/stylist.js","sourcesContent":["class Stylist {\n  constructor() {\n    this.DEFAULT_PERCENTAGE = 0.6;\n    this.INITIAL_SCALE = 1;\n    this.TOOLBAR_HEIGHT = 64;\n  }\n\n  setPanelAsResizable(panelCssClass, boardCssClass) {\n    $(document).ready(() => {\n      $(panelCssClass).resizable({\n        resizeHeight: false\n      });\n\n      setTimeout(() => {\n        $(`${panelCssClass} .ui-resizable-s`).hide();\n        $(`${panelCssClass} .ui-resizable-se`).hide();\n\n        this.scaleBoardAndPutInCenter(this.DEFAULT_PERCENTAGE, boardCssClass);\n      }, 0);\n    });\n\n    this.beResponsive(panelCssClass, boardCssClass);\n  }\n\n  beResponsive(panelCssClass, boardCssClass) {\n    $(window).resize(() => {\n      // keep aspect ratio on window resize:\n      const documentWidth = $(document).width()\n      if (!this.lastSize) {\n        this.lastSize = documentWidth;\n        return;\n      }\n\n      const leftPanel = $(panelCssClass);\n      const percentage = leftPanel.width() / this.lastSize;\n\n      leftPanel.width(percentage * documentWidth);\n      this.lastSize = documentWidth;\n\n      // adapt board size to panel:\n      this.scaleBoardAndPutInCenter(percentage, boardCssClass);\n    });\n  }\n\n  scaleBoardAndPutInCenter(percentage, boardCssClass) {\n    if (!this.originalHeight) this.originalHeight = $(boardCssClass).height();\n\n    const scaleDiff = -(percentage / this.DEFAULT_PERCENTAGE) + 1\n    const scale = this.INITIAL_SCALE + scaleDiff;\n    $(boardCssClass).css(\"transform\", `scale(${scale})`);\n\n    const middleY = ($(document).height() - this.TOOLBAR_HEIGHT) / 2;\n    const offsetY = this.originalHeight / 2;\n    $(boardCssClass).css(\"margin-top\", `${middleY - offsetY}px`);\n  }\n}\n"],"sourceRoot":"/source/"}